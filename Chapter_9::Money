
#include <iostream>
#include <cctype>

//=====================================================================================================================================
class Money
{
public:

	Money(long cent)
		: cent(cent)
	{
	}
//=====================================================================================================================================
	Money()
	{
	}
//=====================================================================================================================================
	friend std::ostream &operator<<(std::ostream &os, const Money &M)
	{
		double dollar = M.cent / 100;
		double cent = M.cent % 100;

		return os << "$" << dollar << "." << cent << '\n';
	}

	friend std::istream &operator>>(std::istream &is, Money &M)
	{
		char op;
		double D1, D2;
		char V1, V2;
		double scalar;
		is >> V1 >> D1;

		D1 *= 100;

		is >> op;
		M.cent = D1;

		char next = is.peek();

		if (isdigit(next))
		{
			is >> scalar;

			if (op == '*')
				M.cent *= scalar;

			if (op == '/')
				M.cent /= scalar;
		}

		else
		{
			is >> V2 >> D2;
			D2 *= 100;

			if(op == '+')
			M.cent += D2;

			if (op == '-')
				M.cent -= D2;
		}


		// сделать switch с указанием на enum для евро долларов канадских крон датских долларов

		return is;
	}

	Money Enter();
	Money Out(Money &M);

private:
	long cent = 0;
};
//=====================================================================================================================================
Money Money::Out(Money &M)
{
	double D = M.cent;
	int celay = (int)D;

	int drobnay = int((D - celay) * 1000);

	int drobnay_2 = int((D - celay) * 100);

	int last_dig = drobnay % 10;

	if (last_dig >= 5 && last_dig != 0)
		drobnay_2++;

	M.cent = celay * 100 + drobnay_2;

		return M;
}
//=====================================================================================================================================
Money Money::Enter()
{
	Money GoCin;

	while (std::cin >> GoCin)
	{
		Out(GoCin);
		std::cout << GoCin << "\n";
	} 
	return GoCin;
}
//=====================================================================================================================================
int main()
{
	Money mon;
	mon.Enter();
}
//=====================================================================================================================================
/*
//=====================================================================================================================================
	V	14. Разработайте и реализуйте класс Money для вычислений, связанных с долларами и центами,
точность которых определяется по правилу округления 4 / 5 (0, 5 цента округляется вверх,
все, что меньше 0, 5, округляется вниз).Денежные суммы должны представляться в центах
с помощью переменной типа long, но ввод и вывод должны использовать доллары и центы,
например $123.45.Не беспокойтесь о суммах, выходящих за пределы диапазона типа long.
//=====================================================================================================================================
	15. Уточните класс Money, добавив валюту (как аргумент конструктора). Начальное значение в виде десятичного числа допускается,
поскольку такое число можно представить в виде переменной типа long. Не допускайте некорректных операций. Например,
выражение Money*Money не имеет смысла, а USD1.23+DKK5.00 имеет смысл, только если существует таблица преобразования,
определяющая обменный курс между американскими долларами (USD) и датскими кронами (DKK).
//=====================================================================================================================================
	16. Приведите пример вычислений, в котором класс Rational позволяет получить более точные результаты, чем класс Money.
//=====================================================================================================================================
	17. Приведите пример вычислений, в котором класс Rational позволяет получить более точные результаты, чем тип double.
//=====================================================================================================================================
*/
